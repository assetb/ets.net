<div ng-init="Init()" class="content" id="list">
    <div class="text-right">
        <a ng-click="Update()">Обновить</a>
    </div>
    <table style="width: 100%;">
        <tr>
            <th>Номер заявки</th>
            <th>Дата подачи заявки</th>
            <th>Статус</th>
            <th>Файлы заявки</th>
        </tr>
        <tr ng-if="orders == null">
            <td class="text-center" colspan="4"><img src="Resources/Images/ajax-loader.gif" /> Загрузка...</td>
        </tr>
        <tr ng-if="orders.length == 0">
            <td class="text-center" colspan="4">Все заявки обработаны.</td>
        </tr>
        <tr ng-repeat="order in orders">
            <td>{{order.number}}</td>
            <td>{{order.date | date : 'dd.MM.yyyy'}}</td>
            <td>{{order.status}}</td>
            <td>
                <a data-reveal-id="filesModal" ng-click="GetFiles(order['<filesListId>k__BackingField'])">Показать</a>
            </td>
        </tr>
    </table>
    <div class="reveal-modal small" id="filesModal" data-reveal-id="filesModal" data-reveal>
        <h1>Список файлов</h1>
        <ul>
            <li class="inline-list vertical" ng-repeat="file in files">
                {{file.type | docTypes}} - <a href="{{URL_ARCHIVE}}/{{file.id}}">{{file.fileName}}</a>
            </li>
            <li ng-if="files == null"><img src="Resources/Images/ajax-loader.gif" /> Загрузка...</li>
        </ul>
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div>
</div>